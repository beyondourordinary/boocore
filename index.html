<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>BOOCORE</title>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Barrio&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">

<style>
:root{
  --boo:#FAFF00;
  --glass:rgba(0,0,0,.45);
  --line:rgba(255,255,255,.1);
}

html,body{
  height:100%;
  margin:0;
  background:#000;
  font-family:Inter,system-ui;
  overflow:hidden;
}

body{
  background:
    linear-gradient(rgba(0,0,0,.65),rgba(0,0,0,.85)),
    url("boocore-bg.png") center/cover no-repeat;
  color:white;
}

.wrap{
  height:100%;
  display:flex;
  flex-direction:column;
  padding:env(safe-area-inset-top) 14px env(safe-area-inset-bottom);
  box-sizing:border-box;
}

.brand{
  font-family:Barrio,cursive;
  text-align:center;
  font-size:52px;
  letter-spacing:3px;
  color:var(--boo);
  text-shadow:0 0 18px rgba(250,255,0,.25);
  margin-bottom:10px;
}

.center{
  flex:1;
  overflow-y:auto;
  -webkit-overflow-scrolling:touch;
  display:flex;
  flex-direction:column;
  gap:12px;
}

.now{
  min-height:96px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:var(--glass);
  border:1px solid var(--line);
  border-radius:22px;
  font-family:Barrio,cursive;
  font-size:64px;
  letter-spacing:2px;
  text-transform:uppercase;
  text-align:center;
}

@keyframes mist{0%{opacity:0;filter:blur(10px)}100%{opacity:1;filter:none}}
@keyframes wobble{
  0%{transform:none}
  25%{transform:translate(-1px,1px) rotate(-.4deg)}
  50%{transform:translate(1px,-1px) rotate(.4deg)}
  100%{transform:none}
}
@keyframes pulse{
  0%{transform:scale(1)}
  50%{transform:scale(1.03)}
  100%{transform:scale(1)}
}
.mist{animation:mist 1.1s ease-out both}
.wobble{animation:wobble .22s ease-out}
.pulse{animation:pulse .26s ease-out}

.stack{
  background:rgba(0,0,0,.18);
  border:1px solid rgba(255,255,255,.08);
  border-radius:22px;
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:8px;
}

.row{
  display:flex;
  justify-content:space-between;
  padding:10px 12px;
  background:rgba(0,0,0,.25);
  border-radius:16px;
  border:1px solid rgba(255,255,255,.06);
}

@keyframes drift{
  0%{transform:translateX(0)}
  50%{transform:translateX(3px)}
  100%{transform:translateX(0)}
}

.w{
  font-family:Barrio,cursive;
  font-size:18px;
  letter-spacing:1.5px;
  opacity:.78;
  animation:drift 5.5s ease-in-out infinite;
}

.t{font-size:12px;opacity:.5}

.bottom-fixed{
  position:sticky;
  bottom:0;
  background:linear-gradient(
    rgba(0,0,0,0),
    rgba(0,0,0,.85) 35%,
    rgba(0,0,0,.95)
  );
  padding:12px 0 env(safe-area-inset-bottom);
}

.controls{
  display:flex;
  justify-content:center;
  gap:12px;
}

.ctrl{
  padding:12px 16px;
  border-radius:16px;
  border:2px solid rgba(250,255,0,.3);
  background:rgba(0,0,0,.35);
  color:var(--boo);
  font-weight:900;
  letter-spacing:2px;
  cursor:pointer;
}
.ctrl:disabled{opacity:.35}

.cta{
  display:block;
  margin:10px auto 0;
  max-width:360px;
  padding:14px 20px;
  border-radius:18px;
  border:2px solid rgba(250,255,0,.2);
  background:rgba(0,0,0,.45);
  color:var(--boo);
  font-weight:900;
  font-size:13px;
  letter-spacing:1px;
  text-align:center;
  text-decoration:none;
}

.ghostbtn{
  margin:8px auto 0;
  display:block;
  padding:12px 18px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(0,0,0,.4);
  color:rgba(255,255,255,.75);
  font-weight:800;
}
</style>
</head>

<body>
<div class="wrap">

<div class="brand">BOOCORE</div>

<div class="center">
  <div id="now" class="now">—</div>
  <div id="stack" class="stack"></div>
</div>

<div class="bottom-fixed">
  <div class="controls">
    <button id="listenBtn" class="ctrl">LISTEN</button>
    <button id="stopBtn" class="ctrl" disabled>STOP</button>
  </div>

  <a class="cta" href="https://beyondourordinary.shop" target="_blank">
    If you like this app, buy the device here!
  </a>

  <button id="clearBtn" class="ghostbtn">CLEAR HISTORY</button>
</div>

</div>

<script src="./boocore_words_packs.js"></script>
<script>
const nowEl=document.getElementById("now"),
stackEl=document.getElementById("stack"),
listenBtn=document.getElementById("listenBtn"),
stopBtn=document.getElementById("stopBtn"),
clearBtn=document.getElementById("clearBtn");

let listening=false;

function timeStr(){
  const d=new Date();
  return d.toTimeString().slice(0,5);
}

function render(){
  const h=JSON.parse(localStorage.getItem("boo_hist")||"[]");
  stackEl.innerHTML=h.map(i=>`
    <div class="row">
      <div class="w" style="animation-delay:${Math.random()*2}s">${i.word}</div>
      <div class="t">${i.time}</div>
    </div>`).join("");
}

function trigger(){
  const pool=[
    ...BOOCoreWords.CORE_WORDS,
    ...BOOCoreWords.PLACES,
    ...(Math.random()<.4?BOOCoreWords.TONE_TRAITS:[]),
    ...(Math.random()<.15?BOOCoreWords.PHRASES_MANIFESTATIONS:[])
  ];
  const w=pool[Math.floor(Math.random()*pool.length)];

  nowEl.classList.remove("mist","wobble","pulse");
  void nowEl.offsetWidth;
  nowEl.textContent=w;
  nowEl.classList.add("mist","wobble","pulse");

  const h=JSON.parse(localStorage.getItem("boo_hist")||"[]");
  h.unshift({word:w,time:timeStr()});
  localStorage.setItem("boo_hist",JSON.stringify(h.slice(0,40)));
  render();
}

listenBtn.onclick=()=>{
  listening=true;
  listenBtn.disabled=true;
  stopBtn.disabled=false;
};

stopBtn.onclick=()=>{
  if(!listening)return;
  listening=false;
  listenBtn.disabled=false;
  stopBtn.disabled=true;
  setTimeout(trigger,1500+Math.random()*2500);
};

clearBtn.onclick=()=>{
  localStorage.removeItem("boo_hist");
  stackEl.innerHTML="";
  nowEl.textContent="—";
};

render();
</script>
</body>
</html>
